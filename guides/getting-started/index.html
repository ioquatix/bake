<!DOCTYPE html>
<html>
	<head>
		
			<title>Getting Started</title>
		
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		
		<link rel="icon" type="image/png" href="../../_static/icon.png"/>
		<link rel="stylesheet" href="../../_static/site.css" type="text/css" media="screen"/>
		
		<script src="../../_components/jquery/jquery.min.js"></script>
		<script src="../../_components/jquery-syntax/jquery.syntax.min.js"></script>
		<script src="../../_components/mermaid/mermaid.min.js"></script>
		
		<script src="../../_static/links.js"></script>
		
		<script type="text/javascript">
		//<![CDATA[
			jQuery(function($) {
				$.syntax();
			});
			
			let isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
			let config = {theme: 'light'};
			if (isDarkMode) config.theme = 'dark';
			else config.theme = 'forest';
			mermaid.initialize(config);
		//]]>
		</script>
	</head>

	<body>
		<header> › <a class="link" href="../../index.html">Project</a> › <a class="link" href="../index.html">Guides</a></header>
		
		<main>
			
	<h1>Getting Started</h1>
	
	<p>This guide gives a general overview of <code>bake</code> and how to use it.</p>
<section id="installation"><h2>Installation</h2>
<p>Add the gem to your project:</p>
<pre><code class="language-bash">$ bundle add bake
</code></pre>
</section><section id="core-concepts"><h2>Core Concepts</h2>
<p><code>bake</code> has several core concepts:</p>
<ul>
<li>A <code>bake</code> executable used for invoking one or more tasks.</li>
<li>A <a href="../../source/Bake/Context/index.html" title="Bake::Context"><code class="language-ruby">class Bake::Context</code></a> instance which is bound to a project or gem and exposes a hierarchy of runnable tasks.</li>
<li>A <a href="../../source/Bake/Loaders/index.html" title="Bake::Loaders"><code class="language-ruby">class Bake::Loaders</code></a> instance which is used for on-demand loading of bake files from the current project and all available gems.</li>
</ul>
</section><section id="executing-tasks"><h2>Executing Tasks</h2>
<p>The <code>bake</code> executable can be used to execute tasks in a <code>bake.rb</code> file in the same directory.</p>
<pre><code class="language-ruby"># bake.rb

def add(x, y)
	puts Integer(x) + Integer(y)
end
</code></pre>
<p>You can execute this task from the command line:</p>
<pre><code class="language-shell">% bake add 10 20
30
</code></pre>
</section><section id="executing-multiple-tasks"><h3>Executing Multiple Tasks</h3>
<p>The <code>bake</code> executable can execute multiple tasks in one invocation and even pass the output of one task into a subsequent task.</p>
<pre><code class="language-ruby"># bake.rb

attr_accessor :value
</code></pre>
<p>You can set and print the value:</p>
<pre><code class="language-shell">% bake value= 10 value output
</code></pre>
<p>This is essentially broken down into three operations: <code>value = 10</code>, <code>value</code> &amp; <code>output</code>. The <code>value</code> method returns the current value and the <code>output</code> task prints the result of the previous task.</p>
</section><section id="optional-arguments"><h2>Optional Arguments</h2>
<p>You can provide optional arguments:</p>
<pre><code class="language-ruby"># bake.rb

def add(x: 10, y: 20)
	puts Integer(x) + Integer(y)
end
</code></pre>
<p>You can execute this task from the command line:</p>
<pre><code class="language-shell">% bake add --x 10 --y 20
30
</code></pre>
<p>Or alternatively:</p>
<pre><code class="language-shell">% bake add x=10 y=20
30
</code></pre>
</section><section id="using-types"><h3>Using Types</h3>
<p>You can annotate your task with a type signature and <code>bake</code> will coerce your arguments to these types:</p>
<pre><code class="language-ruby"># bake.rb

# @parameter x [Integer]
# @parameter y [Integer]
def add(x, y)
	puts x + y
end
</code></pre>
<p>You can execute this task from the command line:</p>
<pre><code class="language-shell">% bake add 10 20
30
</code></pre>
<p>The values are automatically coerced to <code>Integer</code>.</p>
</section><section id="extending-with-documentation"><h3>Extending With Documentation</h3>
<p>You can add documentation to your tasks and parameters (using Markdown formatting).</p>
<pre><code class="language-ruby"># bake.rb

# Add the x and y coordinate together and print the result.
# @parameter x [Integer] The x offset.
# @parameter y [Integer] The y offset.
def add(x, y)
	puts x + y
end
</code></pre>
<p>You can see this documentation in the task listing:</p>
<pre><code class="language-shell">% bake list add
Bake::Context getting-started

	add x y
		Add the x and y coordinate together and print the result.
		x [Integer] The x offset.
		y [Integer] The y offset.
</code></pre>
</section><section id="private-methods"><h3>Private Methods</h3>
<p>If you want to add helper methods which don't show up as tasks, define them as <code>protected</code> or <code>private</code>.</p>
<pre><code class="language-ruby"># bake.rb

# Add the x and y coordinate together and print the result.
# @parameter x [Integer] The x offset.
# @parameter y [Integer] The y offset.
def add(x, y)
	puts x + y
end

private

def puts(*arguments)
	$stdout.puts arguments.inspect
end
</code></pre>
</section>
				
			<footer>Documentation generated by <a href="https://github.com/socketry/utopia-project">Utopia::Project</a>.</footer>
		</main>
	</body>
</html>
